(()=>{"use strict";const e="1c4ba7510ca2bc5d02a76e9bc4006794",t=document.getElementById("query-location");function n(e){const t=document.getElementById("query-location");t.placeholder=t.value,e||(t.placeholder=""),t.value=null}async function o(){const o=await async function(){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t.value}&appid=${e}`,{mode:"cors"}),o=await n.json();return{coords:{lat:o.coord.lat,lon:o.coord.lon},place:{city:o.name,country:o.sys.country}}}().catch((e=>{console.error(e)}));if(!o)return alert("Cannot Find Location."),void n(o);const c=await async function(t){return(await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.coords.lat}&lon=${t.coords.lon}&exclude=minutely,hourly&units=metric&appid=${e}`,{mode:"cors"})).json()}(o).catch((e=>{console.error(e)})),r=await async function(e){return{weather:{weatherCondition:e.current.weather[0].main,weatherDescrition:e.current.weather[0].description},temperature:{temp:e.current.temp,feelsLike:e.current.feels_like},condition:{description:e.current.weather[0].description,icon:e.current.weather[0].icon},dt:e.current.dt,wind:e.current.wind_speed,humidity:e.current.humidity}}(c).catch((e=>{console.error(e)})),a=await async function(e){return e.daily}(c).catch((e=>{console.error(e)}));!function(e,t,n){const o=document.querySelector(".current-icon"),c=document.querySelector(".current-date"),r=document.querySelector(".current-location"),a=document.querySelector(".current-weather-description"),d=document.querySelector(".current-temp"),i=document.querySelector(".current-pop"),l=document.querySelector(".current-feels-like"),u=document.querySelector(".current-wind"),s=document.querySelector(".current-humidity");o.src=`https://openweathermap.org/img/wn/${e.condition.icon}@2x.png`,c.textContent=new Date(1e3*e.dt).toLocaleDateString("en",{weekday:"long"}),r.textContent=`${n.place.city}, ${n.place.country}`,a.textContent=function(e){let t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);return t.join(" ")}(e.condition.description),d.textContent=`${e.temperature.temp}째C`,i.textContent=`${t[0].pop}%`,l.textContent=`${e.temperature.feelsLike}째C`,u.textContent=`${e.wind}m/s`,s.textContent=`${e.humidity}%`}(r,a,o),function(e){const t=document.querySelector(".daily-weather-container");!function(e){e.innerHTML=null}(t);for(let n=1;n<e.length;n++){const o=e[n],c=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div"),u=document.createElement("p"),s=document.createElement("img"),p=document.createElement("p"),m=document.createElement("p"),h=document.createElement("p"),y=document.createElement("p");c.classList.add("daily-weather"),r.classList.add("daily-date-container"),a.classList.add("daily-icon-container"),d.classList.add("daily-humidity-container"),i.classList.add("daily-pop-container"),l.classList.add("daily-temp-container"),u.classList.add("daily-date"),s.classList.add("daily-icon"),h.classList.add("daily-temp-day"),y.classList.add("daily-temp-night"),u.textContent=new Date(1e3*o.dt).toLocaleDateString("en",{weekday:"long"}),s.src=`https://openweathermap.org/img/wn/${o.weather[0].icon}.png`,p.textContent=`${o.humidity}`,m.textContent=`${o.pop}`,h.textContent=`${o.temp.day}째`,y.textContent=`${o.temp.night}째`,c.appendChild(r),c.appendChild(a),c.appendChild(d),c.appendChild(i),c.appendChild(l),r.appendChild(u),a.appendChild(s),d.appendChild(p),i.appendChild(m),l.appendChild(h),l.appendChild(y),t.appendChild(c)}}(a),console.log(a),n(o)}t.value="Manila",document.addEventListener("DOMContentLoaded",(()=>{o().catch((e=>{console.error(e)})),document.querySelector(".location-form").addEventListener("submit",(e=>{e.preventDefault(),o().catch((e=>{console.error(e)}))}))}))})();