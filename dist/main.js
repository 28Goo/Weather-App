(()=>{"use strict";const e="1c4ba7510ca2bc5d02a76e9bc4006794",t=document.getElementById("query-location");async function o(){const o=await async function(){const o=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t.value}&appid=${e}`,{mode:"cors"}),n=await o.json();return{coords:{lat:n.coord.lat,lon:n.coord.lon},place:{city:n.name,country:n.sys.country}}}().catch((e=>{console.error(e)})),n=await async function(t){return(await fetch(`http://api.openweathermap.org/data/2.5/onecall?lat=${t.coords.lat}&lon=${t.coords.lon}&exclude=minutely,hourly&units=metric&appid=${e}`,{mode:"cors"})).json()}(o).catch((e=>{console.error(e)})),r=await async function(e){return{weather:{weatherCondition:e.current.weather[0].main,weatherDescrition:e.current.weather[0].description},temperature:{temp:e.current.temp,feelsLike:e.current.feels_like},condition:{description:e.current.weather[0].description,icon:e.current.weather[0].icon},dt:e.current.dt,wind:e.current.wind_speed,humidity:e.current.humidity}}(n).catch((e=>{console.error(e)})),c=await async function(e){return e.daily}(n).catch((e=>{console.error(e)}));console.log("Current Weather: ",r),function(e,t,o){const n=document.querySelector(".current-date"),r=document.querySelector(".current-location"),c=document.querySelector(".current-weather-description"),a=document.querySelector(".current-temp"),i=document.querySelector(".current-pop"),u=document.querySelector(".current-feels-like"),l=document.querySelector(".current-wind"),d=document.querySelector(".current-humidity");n.textContent=new Date(1e3*e.dt).toLocaleDateString("en",{weekday:"long"}),r.textContent=o.place.city,c.textContent=function(e){let t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);return t.join(" ")}(e.condition.description),a.textContent=`${e.temperature.temp}°C`,i.textContent=`${t[0].pop}%`,u.textContent=`${e.temperature.feelsLike}°C`,l.textContent=e.wind,d.textContent=`${e.humidity}%`}(r,c,o),function(e,t){console.log("Weather Tomorrow: ",e[1]);const o=document.querySelector(".tomorrow-date"),n=document.querySelector(".tomorrow-location"),r=document.querySelector(".tomorrow-weather-description"),c=document.querySelector(".tomorrow-temp-day"),a=document.querySelector(".tomorrow-temp-night"),i=document.querySelector(".tomorrow-pop"),u=document.querySelector(".tomorrow-feels-like-day"),l=document.querySelector(".tomorrow-feels-like-night"),d=document.querySelector(".tomorrow-wind"),m=document.querySelector(".tomorrow-humidity"),s=e[1];o.textContent=new Date(1e3*s.dt).toLocaleDateString("en",{weekday:"long"}),n.textContent=t.place.city,r.textContent=s.weather[0].description,c.textContent=`${s.temp.day}°C`,a.textContent=`${s.temp.night}°C`,i.textContent=`${s.pop}%`,u.textContent=`${s.feels_like.day}°C`,l.textContent=`${s.feels_like.night}°C`,d.textContent=s.wind_speed,m.textContent=`${s.humidity}%`}(c,o),function(e){const t=document.querySelector(".daily-weather-container");!function(e){e.innerHTML=null}(t);for(let o=2;o<e.length;o++){console.log("Daily",o,e[o]);const n=document.createElement("div");n.classList.add("daily-weather"),n.textContent=e[o].temp.day,t.appendChild(n)}}(c),function(){const e=document.getElementById("query-location");e.placeholder=e.value,e.value=null}()}t.value="Manila",document.addEventListener("DOMContentLoaded",(()=>{o().catch((e=>{console.error(e)})),document.querySelector(".location-form").addEventListener("submit",(e=>{e.preventDefault(),o().catch((e=>{console.error(e)}))}))}))})();