(()=>{"use strict";const e="1c4ba7510ca2bc5d02a76e9bc4006794";function t(e){e.value=null}function n(e,t){"Thunderstorm"===e.weather[0].main?(t.style.backgroundColor="rgb(24, 22, 49)",t.style.color="white"):"Drizzle"===e.weather[0].main?(t.style.backgroundColor="rgb(86, 82, 136)",t.style.color="black"):"Rain"===e.weather[0].main?(t.style.backgroundColor="rgb(55, 48, 150)",t.style.color="white"):"Snow"===e.weather[0].main?(t.style.backgroundColor="rgb(171, 169, 196)",t.style.color="black"):"Mist"===e.weather[0].main||"Smoke"===e.weather[0].main||"Haze"===e.weather[0].main||"Dust"===e.weather[0].main||"Fog"===e.weather[0].main||"Sand"===e.weather[0].main||"Ash"===e.weather[0].main||"Squall"===e.weather[0].main||"Tornado"===e.weather[0].main?(t.style.backgroundColor="rgb(135, 134, 153)",t.style.color="white"):"Clear"===e.weather[0].main?(t.style.backgroundColor="rgb(75, 130, 212)",t.style.color="white"):(t.style.backgroundColor="white",t.style.color="black")}async function a(){const a=document.getElementById("query-location"),o=await async function(t){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t.value}&appid=${e}`,{mode:"cors"}),a=await n.json();return{coords:{lat:a.coord.lat,lon:a.coord.lon},place:{city:a.name,country:a.sys.country}}}(a).catch((e=>{console.error(e)}));if(!o)return alert("Cannot Find Location."),void t(a);const r=await async function(t){return(await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.coords.lat}&lon=${t.coords.lon}&exclude=minutely&units=metric&appid=${e}`,{mode:"cors"})).json()}(o).catch((e=>{console.error(e)})),c=await async function(e){return e.current}(r).catch((e=>{console.error(e)})),d=await async function(e){return e.daily}(r).catch((e=>{console.error(e)}));!function(e,t,a){n(e,document.querySelector(".current-weather"));const o=document.querySelector(".current-icon"),r=document.querySelector(".current-date"),c=document.querySelector(".current-location"),d=document.querySelector(".current-weather-description"),l=document.querySelector(".current-temp"),i=document.querySelector(".current-pop"),s=document.querySelector(".current-feels-like"),u=document.querySelector(".current-wind"),p=document.querySelector(".current-humidity");o.src=`https://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,r.textContent=new Date(1e3*e.dt).toLocaleDateString("en",{weekday:"long"}),c.textContent=`${a.place.city}, ${a.place.country}`,d.textContent=function(e){let t=e.split(" ");for(let e=0;e<t.length;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);return t.join(" ")}(e.weather[0].description),l.textContent=`${parseInt(e.temp)}°C`,i.textContent=100*t[0].pop+"%",s.textContent=`${parseInt(e.feels_like)}°C`,u.textContent=`${e.wind_speed}m/s`,p.textContent=`${e.humidity}%`}(c,d,o),function(e){const t=document.querySelector(".daily-weather-container");!function(e){e.innerHTML=null}(t);for(let a=1;a<e.length-1;a++){const o=e[a],r=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div"),m=document.createElement("p"),h=document.createElement("img"),y=document.createElement("span"),w=document.createElement("span"),C=document.createElement("p"),g=document.createElement("p"),b=document.createElement("p");r.classList.add("daily-weather"),c.classList.add("daily-date-container"),d.classList.add("daily-icon-container"),l.classList.add("daily-bottom-container"),i.classList.add("daily-details-container"),s.classList.add("daily-wind-container"),u.classList.add("daily-pop-container"),p.classList.add("daily-temp-container"),m.classList.add("daily-date"),h.classList.add("daily-icon"),y.classList.add("material-icons"),w.classList.add("material-icons"),b.classList.add("daily-temp-day"),m.textContent=new Date(1e3*o.dt).toLocaleDateString("en",{weekday:"long"}),h.src=`https://openweathermap.org/img/wn/${o.weather[0].icon}@2x.png`,y.textContent="air",w.textContent="water_drop",C.textContent=`${o.wind_speed}m/s`,g.textContent=100*o.pop+"%",b.textContent=`${parseInt(o.temp.day)}°`,r.appendChild(c),r.appendChild(d),r.appendChild(l),r.appendChild(s),r.appendChild(u),r.appendChild(p),c.appendChild(m),d.appendChild(h),s.appendChild(y),s.appendChild(C),p.appendChild(b),u.appendChild(w),u.appendChild(g),i.appendChild(s),i.appendChild(u),l.appendChild(i),l.appendChild(p),t.appendChild(r),n(o,r)}}(d),t(a)}document.getElementById("query-location").value="Binan",document.addEventListener("DOMContentLoaded",(()=>{a().catch((e=>{console.error(e)})),document.querySelector(".location-form").addEventListener("submit",(e=>{e.preventDefault(),a().catch((e=>{console.error(e)}))}))}))})();